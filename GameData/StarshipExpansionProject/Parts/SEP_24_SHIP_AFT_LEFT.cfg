PART
{
	name = SEP_24_SHIP_AFT_LEFT_FLAP
	module = Part
	author = Kari
	
	MODEL
    	{
        	model = StarshipExpansionProject/Assets/MK3/SEP_24_SHIP_AFT_LEFT_FLAP
    	}
		
	rescaleFactor = 1
	
	NODE
	{
		name = node_fin_left
		transform = node_fin_left
		size = 2
		method = FIXED_JOINT
	}
	
	node_attach = 0, 0, 0, 1, 0, 0
	TechRequired = advAerodynamics
	entryCost = 1700
	cost = 1700
	category = Aero
	subcategory = 0
	title = Donnager MK-3 Rear Left Flap
	manufacturer = Starship Expansion Project
	description = This is not your average aerodynamic surface. That said, Val has asked why we dont play Flappy Bird anymore. DO NOT ATTACH TO RIGHT SIDE
	attachRules = 1,1,0,0,1
	mass = 1.7
	thermalMassModifier = 5.0 // a hair worse than airliner parts
	emissiveConstant = 0.4
	dragModelType = none
	maximum_drag = 0.02
	minimum_drag = 0.02
	angularDrag = 2
	crashTolerance = 15
	maxTemp = 1700
	skinMaxTemp = 2700	
	explosionPotential = 0.1
	fuelCrossFeed = True
	bulkheadProfiles = srf
	tags = kari starship bfr its spacex ship spaceship wing flap

	MODULE:NEEDS[KSPCommunityPartModules]
	{
	    name = ModuleCenterFollowTransform
	    enableCoP = true
	    enableCoL = true
		enableCoM = true
	    transformName = CoL
	}

	MODULE
	{
		name = ModuleSEPControlSurface
		useInternalDragModel = True
		dragCoeff = 0.5
		deflectionLiftCoeff = 1
		ctrlSurfaceRange = 0,90
		ctrlSurfaceDeployRange = 0,90,60
		ctrlSurfaceFlipDeployAngle = 90
		ctrlSurfaceArea = 1
		actuatorSpeed = 50
		transformName = ActuateMesh
		controlAuthority = 40
	}

    MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = SEP_GAP_FILLER
		switcherDescription = Gap Filler
		
		SUBTYPE
		{
			name = filled
			title = With Gap Filler
			descriptionSummary = First Introduced on Ship 30
			primaryColor = #FFFFFF
			secondaryColor = #808080
			defaultSubtypePriority = 1

			TEXTURE
			{
				texture = StarshipExpansionProject/Assets/MK3/SEP_24_MK3_FLAP_AFT_TILED_BASE_ALT
				shaderProperty = _MainTex
				transform = AFT_Flap_Tiled
			}
		}

		SUBTYPE
		{
			name = notiflled
			title = Without Gap Filler
			descriptionSummary = Last use on Ship 29
			primaryColor = #808080
			secondaryColor = #FFFFFF	

			TEXTURE
			{
				texture = StarshipExpansionProject/Assets/MK3/SEP_24_MK3_FLAP_AFT_TILED_BASE
				shaderProperty = _MainTex
				transform = AFT_Flap_Tiled
				
			}
		}
	}

    MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = SEP_THERMAL
		switcherDescription = Thermal Paint
		
		SUBTYPE
		{
			name = Paint
			title = With Thermal Paint
			descriptionSummary = 
			primaryColor = #FFFFFF
			secondaryColor = #808080

			TEXTURE
			{
				texture = StarshipExpansionProject/Assets/MK3/SEP_24_MK3_FLAP_AFT_METAL_BASE_ALT
				shaderProperty = _MainTex
				transform = AFT_Flap_Metal
			}

			MATERIAL:NEEDS[Resurfaced]
			{
				transform = AFT_Flap_Metal
				FLOAT
				{
					shaderProperty = _MetalRedMult
					value = 1
				}
				FLOAT
				{
					shaderProperty = _MetalGreenMult
					value = 0
				}
				FLOAT
				{
					shaderProperty = _MetalBlueMult
					value = 0
				}
			}
		}

		SUBTYPE
		{
			name = notpaint
			title = Without Thermal Paint
			descriptionSummary =
			primaryColor = #808080
			secondaryColor = #FFFFFF
			defaultSubtypePriority = 1	

			TEXTURE
			{
				texture = StarshipExpansionProject/Assets/MK3/SEP_24_MK3_FLAP_AFT_METAL_BASE
				shaderProperty = _MainTex
				transform = AFT_Flap_Metal
			}
			
            MATERIAL:NEEDS[Resurfaced]
			{
				transform = AFT_Flap_Metal
				FLOAT
				{
					shaderProperty = _MetalRedMult
					value = 0
				}
				FLOAT
				{
					shaderProperty = _MetalGreenMult
					value = 1
				}
				FLOAT
				{
					shaderProperty = _MetalBlueMult
					value = 0
				}
			}
		}
	}

	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = SEP_Wicks
		switcherDescription = Statick Wicks
		affectDragCubes = false
		
		SUBTYPE
		{
			name = ON
			title = Installed
			descriptionSummary =
			primaryColor = #FFFFFF
			secondaryColor = #808080
			transform = AFT_Flap_Static_Wicks

		}

		SUBTYPE
		{
			name = Off
			title = Not Installed
			descriptionSummary = 
			primaryColor = #808080
			secondaryColor = #FFFFFF
		}
	}


	MODULE
    {
        name = FXModuleLookAtConstraint

		CONSTRAINLOOKFX
        {
            targetName = Lower_Piston_1_Flap_TGT
            rotatorsName = Lower_Piston_Fixed_1_AIM
        }

        CONSTRAINLOOKFX
        {
            targetName = Lower_Piston_2_Flap_TGT
            rotatorsName = Lower_Piston_Fixed_2_AIM
        }
		CONSTRAINLOOKFX
        {
            targetName = Middle_Piston_1_Flap_TGT
            rotatorsName = Middle_Piston1_AIM
        }

        CONSTRAINLOOKFX
        {
            targetName = Middle_Piston_2_Flap_TGT
            rotatorsName = Middle_Piston2_AIM
        }
		CONSTRAINLOOKFX
        {
            targetName = Upper_Piston_1_Flap_TGT
            rotatorsName = Upper_Piston1_AIM
        }

        CONSTRAINLOOKFX
        {
            targetName = Upper_Piston_2_Flap_TGT
            rotatorsName = Upper_Piston2_AIM
        }
		CONSTRAINLOOKFX
        {
            targetName = Hinge_1_Flap_TGT
            rotatorsName = Hinge_1_Fixed_AIM
        }

        CONSTRAINLOOKFX
        {
            targetName = Hinge_2_Flap_TGT
            rotatorsName = Hinge_2_Fixed_AIM
        }
		
		CONSTRAINLOOKFX
        {
            targetName = Hinge_3_Flap_TGT
            rotatorsName = Hinge_3_Fixed_AIM
        }

		
		//To not confuse my tiny brain

		CONSTRAINLOOKFX
        {
            rotatorsName = Lower_Piston_1_Flap_AIM
            targetName = Lower_Piston_Fixed_1_TGT
        }

        CONSTRAINLOOKFX
        {
            rotatorsName = Lower_Piston_2_Flap_AIM
            targetName = Lower_Piston_Fixed_2_TGT
        }
		CONSTRAINLOOKFX
        {
            rotatorsName = Middle_Piston_1_Flap_AIM
            targetName = Middle_Piston1_TGT
        }

        CONSTRAINLOOKFX
        {
            rotatorsName = Middle_Piston_2_Flap_AIM
            targetName = Middle_Piston2_TGT
        }
		CONSTRAINLOOKFX
        {
            rotatorsName = Upper_Piston_1_Flap_AIM
            targetName = Upper_Piston1_TGT
        }

        CONSTRAINLOOKFX
        {
            rotatorsName = Upper_Piston_2_Flap_AIM
            targetName = Upper_Piston2_TGT
        }
		CONSTRAINLOOKFX
        {
            rotatorsName = Hinge_1_Flap_AIM
            targetName = Hinge_1_Fixed_TGT
        }

        CONSTRAINLOOKFX
        {
            rotatorsName = Hinge_2_Flap_AIM
            targetName = Hinge_2_Fixed_TGT
        }

		CONSTRAINLOOKFX
        {
            rotatorsName = Hinge_3_Flap_AIM
            targetName = Hinge_3_Fixed_TGT
        }
	}
}